import scala.io.Source

// FUTURE: using dispatch
// http://dispatch.databinder.net/Dispatch.html


// val makes
class Headers(val Host:String)
class Model(val method:String, val headers: Headers )

implicit val headerFormat = Json.format[Headers]
implicit val modelFormat = Json.format[Model]

def GetUrl = {
  val echoService = "http://scooterlabs.com/echo.json"
  Source.fromURL(echoService) mkString
}

val js = Json.parse(GetUrl)
Json.fromJson[Model](js).get
